"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){var n=t(e,e.document);e.lazySizes=n,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=n)}(window,function e(t,n){if(n.getElementsByClassName){var r,o,i=n.documentElement,a=t.Date,s=t.HTMLPictureElement,c="addEventListener",l="getAttribute",u=t[c],d=t.setTimeout,f=t.requestAnimationFrame||d,p=t.requestIdleCallback,h=/^picture$/i,g=["load","error","lazyincluded","_lazyloaded"],m={},v=Array.prototype.forEach,w=function e(t,n){return m[n]||(m[n]=new RegExp("(\\s|^)"+n+"(\\s|$)")),m[n].test(t[l]("class")||"")&&m[n]},y=function e(t,n){w(t,n)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+n)},b=function e(t,n){var r;(r=w(t,n))&&t.setAttribute("class",(t[l]("class")||"").replace(r," "))},z=function e(t,n,r){var o=r?c:"removeEventListener";r&&e(t,n),g.forEach(function(e){t[o](e,n)})},_=function e(t,o,i,a,s){var c=n.createEvent("CustomEvent");return i||(i={}),i.instance=r,c.initCustomEvent(o,!a,!s,i),t.dispatchEvent(c),c},C=function e(n,r){var i;!s&&(i=t.picturefill||o.pf)?i({reevaluate:!0,elements:[n]}):r&&r.src&&(n.src=r.src)},A=function e(t,n){return(getComputedStyle(t,null)||{})[n]},x=function e(t,n,r){for(r=r||t.offsetWidth;r<o.minSize&&n&&!t._lazysizesWidth;)r=n.offsetWidth,n=n.parentNode;return r},k=function(){var e,t,r=[],o=[],i=r,a=function n(){var a=i;for(i=r.length?o:r,e=!0,t=!1;a.length;)a.shift()();e=!1},s=function r(o,s){e&&!s?o.apply(this,arguments):(i.push(o),t||(t=!0,(n.hidden?d:f)(a)))};return s._lsFlush=a,s}(),E=function e(t,n){return n?function(){k(t)}:function(){var e=this,n=arguments;k(function(){t.apply(e,n)})}},T=function e(t){var n,r=0,i=125,s=o.ricTimeout,c=function e(){n=!1,r=a.now(),t()},l=p&&o.ricTimeout?function(){p(c,{timeout:s}),s!==o.ricTimeout&&(s=o.ricTimeout)}:E(function(){d(c)},!0);return function(e){var t;(e=!0===e)&&(s=33),n||(n=!0,t=125-(a.now()-r),t<0&&(t=0),e||t<9&&p?l():d(l,t))}},S=function e(t){var n,r,o=99,i=function e(){n=null,t()},s=function e(){var t=a.now()-r;t<99?d(e,99-t):(p||i)(i)};return function(){r=a.now(),n||(n=d(s,99))}};!function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:300};o=t.lazySizesConfig||t.lazysizesConfig||{};for(e in n)e in o||(o[e]=n[e]);t.lazySizesConfig=o,d(function(){o.init&&M()})}();var N=function(){var e,s,f,p,g,m,x,N,M,R,I,P,L,F,W=/^img$/i,D=/^iframe$/i,j="onscroll"in t&&!/glebot/.test(navigator.userAgent),B=0,G=0,U=0,H=-1,K=function e(t){U--,t&&t.target&&z(t.target,e),(!t||U<0||!t.target)&&(U=0)},q=function e(t,r){var o,a=t,s="hidden"==A(n.body,"visibility")||"hidden"!=A(t,"visibility");for(N-=r,I+=r,M-=r,R+=r;s&&(a=a.offsetParent)&&a!=n.body&&a!=i;)(s=(A(a,"opacity")||1)>0)&&"visible"!=A(a,"overflow")&&(o=a.getBoundingClientRect(),s=R>o.left&&M<o.right&&I>o.top-1&&N<o.bottom+1);return s},Y=function t(){var a,c,u,d,f,h,g,v,w,y=r.elements;if((p=o.loadMode)&&U<8&&(a=y.length)){c=0,H++,null==L&&("expand"in o||(o.expand=i.clientHeight>500&&i.clientWidth>500?500:370),P=o.expand,L=P*o.expFactor),G<L&&U<1&&H>2&&p>2&&!n.hidden?(G=L,H=0):G=p>1&&H>1&&U<6?P:0;for(;c<a;c++)if(y[c]&&!y[c]._lazyRace)if(j)if((v=y[c][l]("data-expand"))&&(h=1*v)||(h=G),w!==h&&(m=innerWidth+h*F,x=innerHeight+h,g=-1*h,w=h),u=y[c].getBoundingClientRect(),(I=u.bottom)>=g&&(N=u.top)<=x&&(R=u.right)>=g*F&&(M=u.left)<=m&&(I||R||M||N)&&(o.loadHidden||"hidden"!=A(y[c],"visibility"))&&(s&&U<3&&!v&&(p<3||H<4)||q(y[c],h))){if(ne(y[c]),f=!0,U>9)break}else!f&&s&&!d&&U<4&&H<4&&p>2&&(e[0]||o.preloadAfterLoad)&&(e[0]||!v&&(I||R||M||N||"auto"!=y[c][l](o.sizesAttr)))&&(d=e[0]||y[c]);else ne(y[c]);d&&!f&&ne(d)}},V=T(Y),Q=function e(t){y(t.target,o.loadedClass),b(t.target,o.loadingClass),z(t.target,X),_(t.target,"lazyloaded")},J=E(Q),X=function e(t){J({target:t.target})},Z=function e(t,n){try{t.contentWindow.location.replace(n)}catch(e){t.src=n}},ee=function e(t){var n,r=t[l](o.srcsetAttr);(n=o.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",n),r&&t.setAttribute("srcset",r)},te=E(function(e,t,n,r,i){var a,s,c,u,p,g;(p=_(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(n?y(e,o.autosizesClass):e.setAttribute("sizes",r)),s=e[l](o.srcsetAttr),a=e[l](o.srcAttr),i&&(c=e.parentNode,u=c&&h.test(c.nodeName||"")),g=t.firesLoad||"src"in e&&(s||a||u),p={target:e},g&&(z(e,K,!0),clearTimeout(f),f=d(K,2500),y(e,o.loadingClass),z(e,X,!0)),u&&v.call(c.getElementsByTagName("source"),ee),s?e.setAttribute("srcset",s):a&&!u&&(D.test(e.nodeName)?Z(e,a):e.src=a),i&&(s||u)&&C(e,{src:a})),e._lazyRace&&delete e._lazyRace,b(e,o.lazyClass),k(function(){(!g||e.complete&&e.naturalWidth>1)&&(g?K(p):U--,Q(p))},!0)}),ne=function e(t){var n,r=W.test(t.nodeName),i=r&&(t[l](o.sizesAttr)||t[l]("sizes")),a="auto"==i;(!a&&s||!r||!t[l]("src")&&!t.srcset||t.complete||w(t,o.errorClass)||!w(t,o.lazyClass))&&(n=_(t,"lazyunveilread").detail,a&&O.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,U++,te(t,n,a,i,r))},re=function e(){if(!s){if(a.now()-g<999)return void d(e,999);var t=S(function(){o.loadMode=3,V()});s=!0,o.loadMode=3,V(),u("scroll",function(){3==o.loadMode&&(o.loadMode=2),t()},!0)}};return{_:function s(){g=a.now(),r.elements=n.getElementsByClassName(o.lazyClass),e=n.getElementsByClassName(o.lazyClass+" "+o.preloadClass),F=o.hFac,u("scroll",V,!0),u("resize",V,!0),t.MutationObserver?new MutationObserver(V).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[c]("DOMNodeInserted",V,!0),i[c]("DOMAttrModified",V,!0),setInterval(V,999)),u("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){n[c](e,V,!0)}),/d$|^c/.test(n.readyState)?re():(u("load",re),n[c]("DOMContentLoaded",V),d(re,2e4)),r.elements.length?(Y(),k._lsFlush()):V()},checkElems:V,unveil:ne}}(),O=function(){var e,t=E(function(e,t,n,r){var o,i,a;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),h.test(t.nodeName||""))for(o=t.getElementsByTagName("source"),i=0,a=o.length;i<a;i++)o[i].setAttribute("sizes",r);n.detail.dataAttr||C(e,n.detail)}),r=function e(n,r,o){var i,a=n.parentNode;a&&(o=x(n,a,o),i=_(n,"lazybeforesizes",{width:o,dataAttr:!!r}),i.defaultPrevented||(o=i.detail.width)&&o!==n._lazysizesWidth&&t(n,a,i,o))},i=function t(){var n,o=e.length;if(o)for(n=0;n<o;n++)r(e[n])},a=S(i);return{_:function t(){e=n.getElementsByClassName(o.autosizesClass),u("resize",a)},checkElems:a,updateElem:r}}(),M=function e(){e.i||(e.i=!0,O._(),N._())};return r={cfg:o,autoSizer:O,loader:N,init:M,uP:C,aC:y,rC:b,hC:w,fire:_,gW:x,rAF:k}}});var GTAG=function(){function e(){window.gtag("config",window.CROKMOU_CONF_KEY_GA)}function t(e){var t=e.category,n=void 0===t?"":t,r=e.type,o=void 0===r?"":r,i=e.action,a=void 0===i?"":i,s=e.label,c=void 0===s?"":s;(window.gtag||"function"==typeof window.gtag)&&window.gtag("event",o,{event_category:n,event_action:a,event_label:c})}return function t(){var n=document.createElement("script");n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+window.CROKMOU_CONF_KEY_GA),document.head.appendChild(n),window.dataLayer=window.dataLayer||[],window.gtag=function e(){window.dataLayer.push(arguments)},window.gtag("js",new Date),e()}(),{sendPageView:e,sendEvent:t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};$(document).ready(function(){function e(){try{var e=algoliasearch(window.CROKMOU_CONF_ALGOLIA_ID,window.CROKMOU_CONF_ALGOLIA_API_KEY),t=e.initIndex("blog");$("#search-input").autocomplete({openOnFocus:!0,templates:{dropdownMenu:"#global-search"}},[{source:$.fn.autocomplete.sources.hits(t,{hitsPerPage:5}),templates:{suggestion:function e(t){var n=t._highlightResult;return'<div class="global-search__content">\n                        <h2 class="global-search__content__title">'+n.title.value+'</h2>\n                        <p class="global-search__content__desc">\n                          '+n.section.value+" > "+n.categories.map(function(e){return e.value}).join("-")+"</p>\n                      </div>"}}}]).on("autocomplete:selected",function(e,t,n){window.location=t.uri})}catch(e){setTimeout(Algolia,300)}}function t(){$(window).off("resize"),$(window).off("scroll")}function n(){function e(e){var t=[],n=0;return new Promise(function(r){for(var o=function o(i){var a=$(e[i]),s=a.find('[itemprop="contentUrl"]'),c=s.attr("href"),l=s.find("img")[0];if(!l)return n++,n===e.length&&r(t),{v:void 0};l.onload=function(){n++,t.push(l),n===e.length&&r(t)},l.onerror=function(){n++,t.push({error:""}),n===e.length&&r(t)},l.src=c},i=0;i<e.length;i++){var a=o(i);if("object"===(void 0===a?"undefined":_typeof(a)))return a.v}})}!function t(n){for(var r=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(n){var r,o,i,a,s,c,l;return regeneratorRuntime.wrap(function t(u){for(;;)switch(u.prev=u.next){case 0:return r=n.querySelectorAll("figure"),o=[],i=void 0,a=void 0,s=void 0,u.next=7,e(r);case 7:c=u.sent,l=0;case 9:if(!(l<c.length)){u.next=21;break}if(i=r[l],a=c[l],1===i.nodeType&&!a.error){u.next=14;break}return u.abrupt("continue",18);case 14:s={src:a.src,w:parseInt(a.naturalWidth||a.width,10),h:parseInt(a.naturalHeight||a.height,10)},i.children.length>1&&(s.title=i.children[1].innerHTML),s.el=i,o.push(s);case 18:l++,u.next=9;break;case 21:return u.abrupt("return",o);case 22:case"end":return u.stop()}},t,this)}));return function e(n){return t.apply(this,arguments)}}(),o=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},i=function e(t){t=t||window.event;var n=t.target||t.srcElement,r=o(n,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(r){t.preventDefault?t.preventDefault():t.returnValue=!1;for(var i=o(n,function(e){return e.classList.contains("single")}),a=i.querySelectorAll("figure"),c=a.length,l=0,u=void 0,d=0;d<c;d++)if(1===a[d].nodeType){if(a[d]===r){u=l;break}l++}return u>=0&&s(u,i),!1}},a=function e(){var t=window.location.hash.substring(1),n={};if(t.length<5)return n;for(var r=t.split("&"),o=0;o<r.length;o++)if(r[o]){var i=r[o].split("=");i.length<2||(n[i[0]]=i[1])}return n.gid&&(n.gid=parseInt(n.gid,10)),n},s=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,o,i){var a,s,c,l,u,d;return regeneratorRuntime.wrap(function e(f){for(;;)switch(f.prev=f.next){case 0:return a=document.querySelectorAll(".pswp")[0],s=$("[rel=js-loading-pswp]"),c=void 0,l=void 0,u=void 0,s.addClass("footer__loading-pswp--active"),f.next=8,r(n);case 8:if(u=f.sent,s.removeClass("footer__loading-pswp--active"),l={showHideOpacity:!0,galleryUID:n.getAttribute("data-pswp-uid")||1,shareButtons:[{id:"facebook",label:"Partager sur Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Partager sur Tweeter",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Partager sur Pinterest",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}],getThumbBoundsFn:function e(t){var n=u[t].el.getElementsByTagName("img")[0],r=window.pageYOffset||document.documentElement.scrollTop,o=n.getBoundingClientRect();return{x:o.left,y:o.top+r,w:o.width}}},!i){f.next=26;break}if(!l.galleryPIDs){f.next=23;break}d=0;case 14:if(!(d<u.length)){f.next=21;break}if(u[d].pid!=t){f.next=18;break}return l.index=d,f.abrupt("break",21);case 18:d++,f.next=14;break;case 21:f.next=24;break;case 23:l.index=parseInt(t,10)-1;case 24:f.next=27;break;case 26:l.index=parseInt(t,10);case 27:if(!isNaN(l.index)){f.next=29;break}return f.abrupt("return");case 29:o&&(l.showAnimationDuration=0),c=new PhotoSwipe(a,PhotoSwipeUI_Default,u,l),c.init();case 32:case"end":return f.stop()}},e,this)}));return function t(n,r,o,i){return e.apply(this,arguments)}}(),c=document.querySelectorAll(n),l=0,u=c.length;l<u;l++)c[l].setAttribute("data-pswp-uid",l+1),c[l].onclick=i;var d=a();d.pid&&d.gid&&s(d.pid,c[d.gid-1],!0,!0)}(".single")}var r=$("#page-container"),o=$("body, html"),i=function t(){function r(){function e(e){var r=t.width()>=768,o=t.scrollTop()>=60;n.css({transition:e?".3s ease transform":"none",transform:"translateY("+(o&&r?"30":"0")+"px) scale("+(o&&r?".6":"1")+")"})}var t=$(window),n=$('[rel*="logo"]'),r=$('[rel="nav"]'),o=r.find(".active");if(o.length){var i=o.offset().left-r.offset().left-40;r.scrollLeft(i)}s(function(){e(),c(function(){e(!0)})})}function i(){var e=$('[rel="single-header-title"]'),t=e.children(),n=0;t.each(function(){var e=$(this),t=e.height();t>n&&(n=t)}),t.height("100%"),e.height(Math.max(n+30,110))}function a(){var e=$('iframe[src*="youtube.com"], iframe[src*="facebook.com"]');e.each(function(){$(this).data("aspectRatio",(this.height||16)/(this.width||10)).removeAttr("height").removeAttr("width")}),s(function(){e.each(function(){var e=$(this),t=e.parent(),n=t.width();e.width(n).height(n*e.data("aspectRatio"))})})}function s(e){setTimeout(function(){return $(window).resize(e).resize()},100)}function c(e){$(window).scroll(e).scroll()}function l(){var e=0;!function t(){try{window.parsePinBtns()}catch(n){e++,e<500&&setTimeout(t,100)}}()}function u(){var e=$('[rel="js-return-top"]');c(function(){o.scrollTop()>=500?e.fadeIn():e.fadeOut()}),e.on("click",function(){o.scrollTop(0)})}return r(),e(),n(),i(),a(),u(),{init:t,update:function e(){t(),l()}}}();!function e(){function n(n){$.get(n,function(n){$.each($(n),function(n,a){var s=$(this);"TITLE"===s[0].nodeName.toUpperCase()&&$("head title").html(s.html()),r[0].id===a.id&&r.html($(a).html()).promise().done(function(n){$(window).scrollTop()>=$('[rel="header"]').height()&&o.scrollTop($('[rel="header"] + *').offset().top-60),t(),i.update();try{DISQUSWIDGETS.getCount({reset:!0})}catch(e){}e(),GTAG.sendPageView()})})})}history&&history.pushState&&($('[rel*="xhr"], .pagination a').click(function(e){var t=$(this).attr("href");try{n(t),history.pushState("","New URL: "+t,t),e.preventDefault()}catch(e){return location.href=t,!0}}),window.onpopstate=function(){return n(location.pathname)})}(),function e(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js?v=4").then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":navigator.serviceWorker.controller;break;case"redundant":console.error("The installing service worker became redundant.");break}}}}).catch(function(e){console.error("Error during service worker registration:",e)})}(),function e(){function t(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&n.setAttribute("media",t),n.type="text/css",$("head").append($(n))}t("https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css","screen, projection"),t("https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css","screen, projection"),t("https://fonts.googleapis.com/css?family=Oswald:300|Roboto:300,400,500"),t("/assets/print.css?v=1","print")}()});