"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){var n=t(e,e.document);e.lazySizes=n,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=n)}(window,function(e,t){if(t.getElementsByClassName){var n,r,o=t.documentElement,i=e.Date,a=e.HTMLPictureElement,s="addEventListener",c="getAttribute",l=e[s],u=e.setTimeout,d=e.requestAnimationFrame||u,f=e.requestIdleCallback,p=/^picture$/i,h=["load","error","lazyincluded","_lazyloaded"],g={},m=Array.prototype.forEach,v=function e(t,n){return g[n]||(g[n]=new RegExp("(\\s|^)"+n+"(\\s|$)")),g[n].test(t[c]("class")||"")&&g[n]},w=function e(t,n){v(t,n)||t.setAttribute("class",(t[c]("class")||"").trim()+" "+n)},y=function e(t,n){var r;(r=v(t,n))&&t.setAttribute("class",(t[c]("class")||"").replace(r," "))},b=function e(t,n,r){var o=r?s:"removeEventListener";r&&e(t,n),h.forEach(function(e){t[o](e,n)})},z=function e(r,o,i,a,s){var c=t.createEvent("CustomEvent");return i||(i={}),i.instance=n,c.initCustomEvent(o,!a,!s,i),r.dispatchEvent(c),c},_=function t(n,o){var i;!a&&(i=e.picturefill||r.pf)?i({reevaluate:!0,elements:[n]}):o&&o.src&&(n.src=o.src)},C=function e(t,n){return(getComputedStyle(t,null)||{})[n]},A=function e(t,n,o){for(o=o||t.offsetWidth;o<r.minSize&&n&&!t._lazysizesWidth;)o=n.offsetWidth,n=n.parentNode;return o},x=function(){var e,n,r=[],o=[],i=r,a=function t(){var a=i;for(i=r.length?o:r,e=!0,n=!1;a.length;)a.shift()();e=!1},s=function r(o,s){e&&!s?o.apply(this,arguments):(i.push(o),n||(n=!0,(t.hidden?u:d)(a)))};return s._lsFlush=a,s}(),k=function e(t,n){return n?function(){x(t)}:function(){var e=this,n=arguments;x(function(){t.apply(e,n)})}},E=function e(t){var n,o=0,a=r.ricTimeout,s=function e(){n=!1,o=i.now(),t()},c=f&&r.ricTimeout?function(){f(s,{timeout:a}),a!==r.ricTimeout&&(a=r.ricTimeout)}:k(function(){u(s)},!0);return function(e){var t;(e=!0===e)&&(a=33),n||(n=!0,t=125-(i.now()-o),0>t&&(t=0),e||9>t&&f?c():u(c,t))}},T=function e(t){var n,r,o=99,a=function e(){n=null,t()},s=function e(){var t=i.now()-r;o>t?u(e,o-t):(f||a)(a)};return function(){r=i.now(),n||(n=u(s,o))}};!function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:300};r=e.lazySizesConfig||e.lazysizesConfig||{};for(t in n)t in r||(r[t]=n[t]);e.lazySizesConfig=r,u(function(){r.init&&O()})}();var S=function(){var a,d,f,h,g,A,S,O,R,I,M,P,L,F,W=/^img$/i,D=/^iframe$/i,j="onscroll"in e&&!/glebot/.test(navigator.userAgent),B=0,G=0,U=0,H=-1,K=function e(t){U--,t&&t.target&&b(t.target,e),(!t||0>U||!t.target)&&(U=0)},q=function e(n,r){var i,a=n,s="hidden"==C(t.body,"visibility")||"hidden"!=C(n,"visibility");for(O-=r,M+=r,R-=r,I+=r;s&&(a=a.offsetParent)&&a!=t.body&&a!=o;)(s=(C(a,"opacity")||1)>0)&&"visible"!=C(a,"overflow")&&(i=a.getBoundingClientRect(),s=I>i.left&&R<i.right&&M>i.top-1&&O<i.bottom+1);return s},Y=function e(){var i,s,l,u,f,p,g,m,v,w=n.elements;if((h=r.loadMode)&&8>U&&(i=w.length)){s=0,H++,null==L&&("expand"in r||(r.expand=o.clientHeight>500&&o.clientWidth>500?500:370),P=r.expand,L=P*r.expFactor),L>G&&1>U&&H>2&&h>2&&!t.hidden?(G=L,H=0):G=h>1&&H>1&&6>U?P:0;for(;i>s;s++)if(w[s]&&!w[s]._lazyRace)if(j)if((m=w[s][c]("data-expand"))&&(p=1*m)||(p=G),v!==p&&(A=innerWidth+p*F,S=innerHeight+p,g=-1*p,v=p),l=w[s].getBoundingClientRect(),(M=l.bottom)>=g&&(O=l.top)<=S&&(I=l.right)>=g*F&&(R=l.left)<=A&&(M||I||R||O)&&(r.loadHidden||"hidden"!=C(w[s],"visibility"))&&(d&&3>U&&!m&&(3>h||4>H)||q(w[s],p))){if(te(w[s]),f=!0,U>9)break}else!f&&d&&!u&&4>U&&4>H&&h>2&&(a[0]||r.preloadAfterLoad)&&(a[0]||!m&&(M||I||R||O||"auto"!=w[s][c](r.sizesAttr)))&&(u=a[0]||w[s]);else te(w[s]);u&&!f&&te(u)}},V=E(Y),Q=function e(t){w(t.target,r.loadedClass),y(t.target,r.loadingClass),b(t.target,X),z(t.target,"lazyloaded")},J=k(Q),X=function e(t){J({target:t.target})},$=function $(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Z=function e(t){var n,o=t[c](r.srcsetAttr);(n=r.customMedia[t[c]("data-media")||t[c]("media")])&&t.setAttribute("media",n),o&&t.setAttribute("srcset",o)},ee=k(function(e,t,n,o,i){var a,s,l,d,h,g;(h=z(e,"lazybeforeunveil",t)).defaultPrevented||(o&&(n?w(e,r.autosizesClass):e.setAttribute("sizes",o)),s=e[c](r.srcsetAttr),a=e[c](r.srcAttr),i&&(l=e.parentNode,d=l&&p.test(l.nodeName||"")),g=t.firesLoad||"src"in e&&(s||a||d),h={target:e},g&&(b(e,K,!0),clearTimeout(f),f=u(K,2500),w(e,r.loadingClass),b(e,X,!0)),d&&m.call(l.getElementsByTagName("source"),Z),s?e.setAttribute("srcset",s):a&&!d&&(D.test(e.nodeName)?$(e,a):e.src=a),i&&(s||d)&&_(e,{src:a})),e._lazyRace&&delete e._lazyRace,y(e,r.lazyClass),x(function(){(!g||e.complete&&e.naturalWidth>1)&&(g?K(h):U--,Q(h))},!0)}),te=function e(t){var n,o=W.test(t.nodeName),i=o&&(t[c](r.sizesAttr)||t[c]("sizes")),a="auto"==i;(!a&&d||!o||!t[c]("src")&&!t.srcset||t.complete||v(t,r.errorClass)||!v(t,r.lazyClass))&&(n=z(t,"lazyunveilread").detail,a&&N.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,U++,ee(t,n,a,i,o))},ne=function e(){if(!d){if(i.now()-g<999)return void u(e,999);var t=T(function(){r.loadMode=3,V()});d=!0,r.loadMode=3,V(),l("scroll",function(){3==r.loadMode&&(r.loadMode=2),t()},!0)}};return{_:function c(){g=i.now(),n.elements=t.getElementsByClassName(r.lazyClass),a=t.getElementsByClassName(r.lazyClass+" "+r.preloadClass),F=r.hFac,l("scroll",V,!0),l("resize",V,!0),e.MutationObserver?new MutationObserver(V).observe(o,{childList:!0,subtree:!0,attributes:!0}):(o[s]("DOMNodeInserted",V,!0),o[s]("DOMAttrModified",V,!0),setInterval(V,999)),l("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[s](e,V,!0)}),/d$|^c/.test(t.readyState)?ne():(l("load",ne),t[s]("DOMContentLoaded",V),u(ne,2e4)),n.elements.length?(Y(),x._lsFlush()):V()},checkElems:V,unveil:te}}(),N=function(){var e,n=k(function(e,t,n,r){var o,i,a;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),p.test(t.nodeName||""))for(o=t.getElementsByTagName("source"),i=0,a=o.length;a>i;i++)o[i].setAttribute("sizes",r);n.detail.dataAttr||_(e,n.detail)}),o=function e(t,r,o){var e,i=t.parentNode;i&&(o=A(t,i,o),e=z(t,"lazybeforesizes",{width:o,dataAttr:!!r}),e.defaultPrevented||(o=e.detail.width)&&o!==t._lazysizesWidth&&n(t,i,e,o))},i=function t(){var n,r=e.length;if(r)for(n=0;r>n;n++)o(e[n])},a=T(i);return{_:function n(){e=t.getElementsByClassName(r.autosizesClass),l("resize",a)},checkElems:a,updateElem:o}}(),O=function e(){e.i||(e.i=!0,N._(),S._())};return n={cfg:r,autoSizer:N,loader:S,init:O,uP:_,aC:w,rC:y,hC:v,fire:z,gW:A,rAF:x}}});var GTAG=function(){function e(){window.gtag("config",window.CROKMOU_CONF_KEY_GA)}function t(e){var t=e.category,n=void 0===t?"":t,r=e.type,o=void 0===r?"":r,i=e.action,a=void 0===i?"":i,s=e.label,c=void 0===s?"":s;(window.gtag||"function"==typeof window.gtag)&&window.gtag("event",o,{event_category:n,event_action:a,event_label:c})}return function t(){var n=document.createElement("script");n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+window.CROKMOU_CONF_KEY_GA),document.head.appendChild(n),window.dataLayer=window.dataLayer||[],window.gtag=function e(){window.dataLayer.push(arguments)},window.gtag("js",new Date),e()}(),{sendPageView:e,sendEvent:t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};$(document).ready(function(){function e(){try{var e=algoliasearch(window.CROKMOU_CONF_ALGOLIA_ID,window.CROKMOU_CONF_ALGOLIA_API_KEY),t=e.initIndex("blog");$("#search-input").autocomplete({openOnFocus:!0,templates:{dropdownMenu:"#global-search"}},[{source:$.fn.autocomplete.sources.hits(t,{hitsPerPage:5}),templates:{suggestion:function e(t){var n=t._highlightResult;return'<div class="global-search__content">\n                        <h2 class="global-search__content__title">'+n.title.value+'</h2>\n                        <p class="global-search__content__desc">\n                          '+n.section.value+" > "+n.categories.map(function(e){return e.value}).join("-")+"</p>\n                      </div>"}}}]).on("autocomplete:selected",function(e,t,n){window.location=t.uri})}catch(e){setTimeout(Algolia,300)}}function t(){$(window).off("resize"),$(window).off("scroll")}function n(){function e(e){var t=[],n=0;return new Promise(function(r){for(var o=function o(i){var a=$(e[i]),s=a.find('[itemprop="contentUrl"]'),c=s.attr("href"),l=s.find("img")[0];if(!l)return n++,n===e.length&&r(t),{v:void 0};l.onload=function(){n++,t.push(l),n===e.length&&r(t)},l.onerror=function(){n++,t.push({error:""}),n===e.length&&r(t)},l.src=c},i=0;i<e.length;i++){var a=o(i);if("object"===(void 0===a?"undefined":_typeof(a)))return a.v}})}!function t(n){for(var r=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(n){var r,o,i,a,s,c,l;return regeneratorRuntime.wrap(function t(u){for(;;)switch(u.prev=u.next){case 0:return r=n.querySelectorAll("figure"),o=[],i=void 0,a=void 0,s=void 0,u.next=7,e(r);case 7:c=u.sent,l=0;case 9:if(!(l<c.length)){u.next=21;break}if(i=r[l],a=c[l],1===i.nodeType&&!a.error){u.next=14;break}return u.abrupt("continue",18);case 14:s={src:a.src,w:parseInt(a.naturalWidth||a.width,10),h:parseInt(a.naturalHeight||a.height,10)},i.children.length>1&&(s.title=i.children[1].innerHTML),s.el=i,o.push(s);case 18:l++,u.next=9;break;case 21:return u.abrupt("return",o);case 22:case"end":return u.stop()}},t,this)}));return function e(n){return t.apply(this,arguments)}}(),o=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},i=function e(t){t=t||window.event;var n=t.target||t.srcElement,r=o(n,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(r){t.preventDefault?t.preventDefault():t.returnValue=!1;for(var i=o(n,function(e){return e.classList.contains("single")}),a=i.querySelectorAll("figure"),c=a.length,l=0,u=void 0,d=0;d<c;d++)if(1===a[d].nodeType){if(a[d]===r){u=l;break}l++}return u>=0&&s(u,i),!1}},a=function e(){var t=window.location.hash.substring(1),n={};if(t.length<5)return n;for(var r=t.split("&"),o=0;o<r.length;o++)if(r[o]){var i=r[o].split("=");i.length<2||(n[i[0]]=i[1])}return n.gid&&(n.gid=parseInt(n.gid,10)),n},s=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,o,i){var a,s,c,l,u,d;return regeneratorRuntime.wrap(function e(f){for(;;)switch(f.prev=f.next){case 0:return a=document.querySelectorAll(".pswp")[0],s=$("[rel=js-loading-pswp]"),c=void 0,l=void 0,u=void 0,s.addClass("footer__loading-pswp--active"),f.next=8,r(n);case 8:if(u=f.sent,s.removeClass("footer__loading-pswp--active"),l={showHideOpacity:!0,galleryUID:n.getAttribute("data-pswp-uid")||1,shareButtons:[{id:"facebook",label:"Partager sur Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Partager sur Tweeter",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Partager sur Pinterest",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}],getThumbBoundsFn:function e(t){var n=u[t].el.getElementsByTagName("img")[0],r=window.pageYOffset||document.documentElement.scrollTop,o=n.getBoundingClientRect();return{x:o.left,y:o.top+r,w:o.width}}},!i){f.next=26;break}if(!l.galleryPIDs){f.next=23;break}d=0;case 14:if(!(d<u.length)){f.next=21;break}if(u[d].pid!=t){f.next=18;break}return l.index=d,f.abrupt("break",21);case 18:d++,f.next=14;break;case 21:f.next=24;break;case 23:l.index=parseInt(t,10)-1;case 24:f.next=27;break;case 26:l.index=parseInt(t,10);case 27:if(!isNaN(l.index)){f.next=29;break}return f.abrupt("return");case 29:o&&(l.showAnimationDuration=0),c=new PhotoSwipe(a,PhotoSwipeUI_Default,u,l),c.init();case 32:case"end":return f.stop()}},e,this)}));return function t(n,r,o,i){return e.apply(this,arguments)}}(),c=document.querySelectorAll(n),l=0,u=c.length;l<u;l++)c[l].setAttribute("data-pswp-uid",l+1),c[l].onclick=i;var d=a();d.pid&&d.gid&&s(d.pid,c[d.gid-1],!0,!0)}(".single")}var r=$("#page-container"),o=$("body, html"),i=function t(){function r(){function e(e){var r=t.width()>=768,o=t.scrollTop()>=60;n.css({transition:e?".3s ease transform":"none",transform:"translateY("+(o&&r?"30":"0")+"px) scale("+(o&&r?".6":"1")+")"})}var t=$(window),n=$('[rel*="logo"]'),r=$('[rel="nav"]'),o=r.find(".active");if(o.length){var i=o.offset().left-r.offset().left-40;r.scrollLeft(i)}a(function(){e(),s(function(){e(!0)})})}function i(){var e=$('iframe[src*="youtube.com"], iframe[src*="facebook.com"]');e.each(function(){$(this).data("aspectRatio",(this.height||16)/(this.width||10)).removeAttr("height").removeAttr("width")}),a(function(){e.each(function(){var e=$(this),t=e.parent(),n=t.width();e.width(n).height(n*e.data("aspectRatio"))})})}function a(e){setTimeout(function(){return $(window).resize(e).resize()},100)}function s(e){$(window).scroll(e).scroll()}function c(){var e=0;!function t(){try{window.parsePinBtns()}catch(n){e++,e<500&&setTimeout(t,100)}}()}function l(){var e=$('[rel="js-return-top"]');s(function(){o.scrollTop()>=500?e.fadeIn():e.fadeOut()}),e.on("click",function(){o.scrollTop(0)})}return r(),e(),n(),i(),l(),{init:t,update:function e(){t(),c()}}}();!function e(){function n(n){$.get(n,function(n){$.each($(n),function(n,a){var s=$(this);"TITLE"===s[0].nodeName.toUpperCase()&&$("head title").html(s.html()),r[0].id===a.id&&r.html($(a).html()).promise().done(function(n){$(window).scrollTop()>=$('[rel="header"]').height()&&o.scrollTop($('[rel="header"] + *').offset().top-60),t(),i.update();try{DISQUSWIDGETS.getCount({reset:!0})}catch(e){}e(),GTAG.sendPageView()})})})}history&&history.pushState&&($('[rel*="xhr"], .pagination a').click(function(e){var t=$(this).attr("href");try{n(t),history.pushState("","New URL: "+t,t),e.preventDefault()}catch(e){return location.href=t,!0}}),window.onpopstate=function(){return n(location.pathname)})}(),function e(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js?v=4").then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":navigator.serviceWorker.controller;break;case"redundant":console.error("The installing service worker became redundant.");break}}}}).catch(function(e){console.error("Error during service worker registration:",e)})}(),function e(){function t(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&n.setAttribute("media",t),n.type="text/css",$("head").append($(n))}t("https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css","screen, projection"),t("https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css","screen, projection"),t("https://fonts.googleapis.com/css?family=Oswald:300|Roboto:300,400,500"),t("/assets/print.css?v=1","print")}()});